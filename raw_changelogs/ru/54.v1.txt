UTCrypt v0.6PB1(54) от 2021-04-18

Updater
Проверщик обновлён до v2:
- Реализована функция проверки при запуске программы.
- Проверка стала фоновой и не вызывает фриз, получила информационные сообщения "Идёт слишком долго" и + "Нажмите ещё раз для отмены" на случай проблем при проверке. Соответственно, теперь нажатие на кнопку проверки во время проверки вызывает её отмену. Ещё она получила иную от обычной надпись после первой проверки.
- Добавлена информация об актуальности стабильной версии: если последняя стабильная версия будет менее стабильна, чем последняя нестабильная, то она просто будет неактуальна.
- Различные оптимизации работы. В частности, теперь данные о версии не парсятся, если уже известно, что она неактуальна.
- Добавлены (и сразу реализованы, что в UTCrypt нечасто) функции уведомления о новых версиях в главном окне и сами уведомления.
- Добавлено отображение причины недоступности актуальной информации в виде неизвестной ошибки.

Configuration
- Из-за ошибки в v11, вместо знаков '|' использовались '=' из v10. Всё работало нормально из-за обратной совместимости в b53 между этими двумя версиями. Тем не менее, пришлось сделать модуль v12, сохраняющий конфигурацию правильно. В этой версии также будет присутствовать совместимость чтения конфигураций и с v10, и v11; в следующей -, вероятно, тоже.
- Оптимизация работы.

Localization
- Формат записи обновлён на заточенный под хранение локализации (упрощённый): т.к. от внутренних локализаций не ожидаются повреждения и им не требуются комментарии, убраны точки разметки, теперь используется построчное деление, при котором одна фраза занимает 3 строки.
- Алгоритм чтения полностью переписан под новый формат и получил другие улучшения:
- Оптимизирована схема загрузки: теперь, при загрузке/выгрузке подсказок, над уже загруженным основным текстом никакие действия не производятся.
- Добавлен функционал загрузки локализаций для различных сценариев использования.
- Декостыляция.
- Локализована информация о небезопасном режиме.

Main
- Значительно улучшена работа с уведомлениями. Также, теперь их панель автоматически скрывается при закрытии последнего.
- Кнопка открытия окна с обменом ключей отключена.

Session Setup
- Переработано отображение параметров кода быстрой настройки, коды изменены.
- Переработана страница варианта шифрования:
- Проработан лэйаут.
- Уточнены описания.
- Переработана страница настройки метода шифрования.
- Исправлено отображение заголовков.
- Уточнены описания типов.
- Добавлены страницы-заглушки для типов и алгоритмов.
- Добавлен тип "без шифрования".
- Интегрированы выбор алгоритма и его конфигурация.
- Список алгоритмов временно сокращён.
- Доработана конфигурация для AES. Помимо размера ключа теперь доступны: режим работы, режим ключа и солевое дополнение.
- Страницы выбора и настройки симметричных и асимметричных алгоритмов выпилены из сборки.
- Добавлены многие необходимые на данный момент локализации по теме конфигураций шифрования.

Debug
- Функции прочтения текстового значения и проверки на нуль ресурса скрещены в комплексную проверку ресурса с данными об любом его значении. Также добавлена защита от вылета.
- Добавлена функция удаления указанного ресурса.
- Добавлена функция записи текстового значения в ресурс с указанным именем.

Etc
- Переделан элемент для образования древовидной структуры и теперь не основан на костыле с GB с прозрачной рамкой, получил переменный указатель состояния и, непосредственно, способность свёртки-развёртки. Пока используется только в Session SetUp.
- Различные оптимизации, другие минорные улучшения.
