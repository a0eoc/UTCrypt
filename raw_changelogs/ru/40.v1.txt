UTCrypt  v0.4OB4(40) от 2020-11-29

DebugSuite
- Лог научился выводить каждое новое сообщение и стал умнее обрабатывать добавление этих сообщений. Точек логгирования стало больше, они доработаны.
- Окно "Лога" и все упоминания переименованны в "Отладочную Панель" ("DebugSuite") и получило значительно переработанный интерфейс.
- Панель с самим логом стала левой половиной окна DebugSuite, избавлена от костылей, понижающих производительность, другими костылями, понижающими производительност меньше. Зато теперь можно скроллить не только посредством перемещения ползунка.
- Функция "Автообновление" реализована и включена по-умолчанию. В конфиг добавлен соответствующий параметр.
- Второй половиной окна стала куча отладочных инструментов. Вот примерный список того, что раньше можно было делать только с изменением кода: очищать лог, отправлят команды в обработчики MainConfiguration и DebugFlags, отправлять любой код локализации, вызывать проверку конфигурации, сохранять и применять текущююконфигурацию, перезагружать и очищать ресурсы, задействовать ресурсный пресет LGS, просматривать состояния некоторых переменных (Indicatiors) и etc...
- Правая половина окна имеет больший пространственный приоритет, выраженный в фиксированной ширине. При уменьшении окна она будет вытеснять лог. Если пространствадля лога слишком мало, он будет заменяться надписью, информирующей об этом. Если под неё места тоже нет, она исчезает.
- Функции, отмеченные красным, переводят приложение в небезопасный режим. Функции, отмеченные жёлтым, могут переводить приложение в небезопасный режим, например,если изменения в конфигурацию не были проверены.
- Небезопасный режим - небольшое нововведение. Активируется при использовании небезопасных функций. Уведомляет пользователя MessageBox'ом и текстами в заголовке иподсказке заголовка главного окна. Деактивируется только перезапуском приложения.
- Отладочные флаги - тоже небезопасная функция. Уведомление об их загрузке удалено, поскольку теперь есть общее про включение UnsafeMode.
- Tester нельзя открыть как окно где-либо. Теперь эта выделенная площадка для тестов интегрирована в DebugSuite.

DebugFlags
- Интеграцию системы Отладочных Флагов можно считать успешной! Вот список доступных на данный момент функций:
   • DefaultRecordLogValue меняет значение для записи лога по-умолчанию, которое обычно false;
   • LogProcessingDebugFlags активирует логгирование каждого обрабатываемого отладочного флага;
   • LogProcessingMainConfiguration активирует логгирование каждого обрабатываемого основного параметра;
   • NotifyAboutEvetyLogMessag при каждом новом сообщении в логе, останавливает исполнение и выводит сообщение вMessageBox;
   • DontShowInformationAboutUnreleasedTestingVersion убирает уведомление о нерелизной версии, если таковаяиспользуется;
   • DontShowInformationAboutChangelogLocalizationUnavailability убирает уведомление о недоступности ченьжлога на выбраннойлокализации;
   • RewriteLoadedLocalizationOnLocalizationChanging убирает уведомление о недоступности ченьжлога для выбраннойлокализации;
   • Shutdown костыльно завершает приложение.
   Те, кому нужна информация по DebugFlags, знают, где её найти. Так что не буду ещё больше засорять ченьжлог подробностями.

About
- Доработки и обновление информации, пункты стали чуть удобнее.
- Оптимизация и исправление пары мелких багов.

Appearance
- Недоделанный шаблон окон, базирующийся на окне лишь с фреймом и на котором висело только окно с лицензиями, полностью выпилен.
- Написан новый шаблон, базирующийся на стиле, но включающем в себя модифицированную WPF-разметку, которая ранее валялась в каждом окне отдельно. Следствия такогонововведения:
   • Оптимизация веса;
• Оптимизация потребления ресурсов, даже ощущается уменьшение времени отклика от перемещения окна;
   • Анимации тени пока не работают;
   • Поддержка изменения вида окна в зависимости от его активированности. Если окно деактивированно, то у него снижается контраст на 25%, при этом не теряетсяпрозрачность;
   • Рукоятка для изменения размера окна получила модифицированный шаблон, но я пока его не дорабатывал.
- Для тёмной темы добавлена поддержка внутреннего стиля офромления "GMD2", содержащего в себе некоторые изменённые цвета.
- Также добавлена поддержка стиля "Discord", но выглядит оно сейчас не очень и доступно только если включить "нестабильные функции".
- По аналогии с исправлением "Толщины" рамки для FHD, откорректировано расстояние от рамки окон до контента, которое должно быть минимальным.

Etc
- Доработки локализации.
- Окно с легальной информацией сделано в виде нормального окна, что избавило его от всех багов, кроме отсутствия контента.